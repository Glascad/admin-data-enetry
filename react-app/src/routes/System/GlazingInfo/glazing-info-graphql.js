import gql from 'graphql-tag';

export const query = gql`query SystemInfo($nodeId:ID!){
    system(nodeId:$nodeId){
        nodeId
        id
        name
        defaultGlassSize
        defaultGlassBite
        manufacturerByManufacturerId{
            nodeId
            id
            name
        }
        systemInfillSizesBySystemId{
            nodes{
                nodeId
                infillSize
                infillSizeByInfillSize{
                    nodeId
                    size
                }
            }
        }
        systemInfillPocketTypesBySystemId{
            nodes{
                nodeId
                infillPocketTypeByInfillPocketTypeId{
                    nodeId
                    id
                    type
                    captured
                    description
                }
            }
        }
        systemInfillPocketSizesBySystemId{
            nodes{
                nodeId
                infillPocketSizeByInfillPocketSize{
                    nodeId
                    size
                }
            }
        }
    }
    allInfillSizes{
        nodes{
            nodeId
            size
        }
    }
    allInfillPocketTypes{
        nodes{
            nodeId
            id
            type
        }
    }
    allInfillPocketSizes{
        nodes{
            nodeId
            size
        }
    }
}`;

export const update = {
    mutation: gql`mutation UpdateSystem(
        $nodeId:ID!,
        $name:String,
        $defaultGlassSize:Float,
        $defaultGlassBite:Float,
        $systemTypeId:Int
    ){
        updateSystem(input:{
            nodeId:$nodeId,
            systemPatch:{
                name:$name,
                defaultGlassSize:$defaultGlassSize,
                defaultGlassBite:$defaultGlassBite,
                systemTypeId:$systemTypeId
            }
        }){
            system{
                nodeId
                id
                name
                defaultGlassSize
                defaultGlassBite
                manufacturerByManufacturerId{
                    nodeId
                    id
                    name
                }
            }
        }
    }`,
}
